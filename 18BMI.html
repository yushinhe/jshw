<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        table {
            border-spacing: 0;
        }

        td {
            width: 200px;
            height: 50px;
            text-align: center;        
        }
       tbody tr:nth-of-type(odd){
            background-color: #ddd;
        }
    </style>
</head>

<body>
    <label for="height">身高</label>
    <input type="number" id="height">
    <label for="weight">體重</label>
    <input type="number" id="weight">
    <button id="calculation">計算</button>
    <p>bmi: <span class="bmi"></span> </p>
    <p>分級:<span class="rank"></span> </p>
    <script>
        function calculationBmi() {
            let height = parseInt(document.getElementById('height').value)
            height = height / 100
            let weight = parseInt(document.getElementById('weight').value)
            let result = 0
            result = weight / (height * height)
            return result
        }
        function bmiRank(bmi) {
            if (bmi < 18.5) return '體重過輕'
            if (bmi >= 18.5 && bmi < 24) return '正常範圍'
            if (bmi >= 24 && bmi < 27) return '過重'
            if (bmi >= 27 && bmi < 30) return '輕度肥胖'
            if (bmi >= 30 && bmi < 36) return '中度肥胖'
            if (bmi >= 35) return '重度肥胖'
        }
        function writeInBmi() {
            document.querySelector('.bmi').innerText = calculationBmi()
            document.querySelector('.rank').innerText = bmiRank(calculationBmi())
        }
        let calculation = document.getElementById('calculation')
        calculation.addEventListener('click', writeInBmi)
        let bmiScale = [['分級', '身體質量指數'], ['體重過輕', 'BMI ＜ 18.5'], ['正常範圍', '18.5 ≦ BMI ＜24'], ['過 重', '24 ≦ BMI ＜ 27'], ['輕度肥胖', '27 ≦ BMI ＜ 30'], ['中度肥胖', '30 ≦ BMI ＜ 35'], ['重度肥胖', 'BMI ≧ 35']]
        document.write('<table>')
        document.write('<thead>')
        document.write('<tr>')
        for (let i = 0; i < bmiScale[0].length; i++) {
            document.write(`<td>${bmiScale[0][i]}</td>`)
        }
        document.write('</tr>')
        document.write('</thead>')
        document.write('<tbody>')
        for (let i = 1; i < bmiScale.length; i++) {
            document.write('<tr>')
            for (let j = 0; j < bmiScale[i].length; j++) {
                document.write(`<td>${bmiScale[i][j]}</td>`)
            }
            document.write('</tr>')
        }
        document.write('</tbody>')
        document.write('</table>')
    </script>

</html>